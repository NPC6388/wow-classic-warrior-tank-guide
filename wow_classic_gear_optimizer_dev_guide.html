<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WoW Classic Gear Optimizer Development Guide</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            color: #34495e;
            margin-top: 30px;
        }
        h3 {
            color: #2c3e50;
        }
        .code-block {
            background: #f4f4f4;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            white-space: pre-line;
            border-radius: 4px;
        }
        .formula {
            background: #e8f4fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }
        .tip {
            background: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }
        ul, ol {
            padding-left: 30px;
        }
        li {
            margin: 8px 0;
        }
        .header-subtitle {
            color: #666;
            font-style: italic;
            text-align: center;
            margin-bottom: 30px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>WoW Classic Gear Optimizer Development Guide</h1>
        <p class="header-subtitle">Technical Implementation Guide for Building Automated Gear Optimization Tools</p>

        <h2 id="data-extraction">Character Data Extraction Methods</h2>

        <p>To build automated gear optimization tools, you need to extract character data via WoW Classic addons:</p>

        <h3>Core API Functions</h3>

        <h4>Equipped Items</h4>
        <div class="code-block">-- Get equipped item links
for i = 1, 19 do
    local itemLink = GetInventoryItemLink("player", i)
    if itemLink then
        -- Process equipped gear
        local slotName = GetInventorySlotInfo(i)
        print(slotName .. ": " .. itemLink)
    end
end</div>

        <h4>Bag Scanning</h4>
        <div class="code-block">-- Scan all bags (0-4: backpack + 4 bags)
for bag = 0, 4 do
    for slot = 1, GetContainerNumSlots(bag) do
        local itemLink = GetContainerItemLink(bag, slot)
        local _, itemCount, locked, quality = GetContainerItemInfo(bag, slot)
        if itemLink then
            -- Store item data
        end
    end
end</div>

        <h4>Bank Scanning</h4>
        <div class="code-block">-- Bank requires BANKFRAME_OPENED event
local function ScanBank()
    -- Base bank slots (bagID = -1)
    for slot = 1, 28 do
        local itemLink = GetContainerItemLink(-1, slot)
        if itemLink then
            -- Process bank items
        end
    end
    
    -- Bank bags (bagID 5-11)
    for bag = 5, 11 do
        local numSlots = GetContainerNumSlots(bag)
        if numSlots > 0 then
            for slot = 1, numSlots do
                local itemLink = GetContainerItemLink(bag, slot)
                if itemLink then
                    -- Process bank bag items
                end
            end
        end
    end
end</div>

        <h3>SavedVariables System</h3>

        <div class="code-block">-- In your addon .toc file:
## SavedVariablesPerCharacter: BiSGearDB

-- In your addon lua file:
local function OnAddonLoaded(self, event, addonName)
    if addonName == "YourAddonName" then
        if not BiSGearDB then
            BiSGearDB = {
                equipped = {},
                bags = {},
                bank = {}
            }
        end
        -- Load saved data
    end
end

local frame = CreateFrame("Frame")
frame:RegisterEvent("ADDON_LOADED")
frame:RegisterEvent("BANKFRAME_OPENED")
frame:SetScript("OnEvent", OnAddonLoaded)</div>

        <h2 id="implementation">Implementation Guide</h2>

        <h3>Building a Gear Optimizer</h3>

        <ol>
            <li><strong>Data Collection:</strong> Create addon to scan and store all character gear</li>
            <li><strong>Item Database:</strong> Build comprehensive database of all Classic items with stats</li>
            <li><strong>Stat Weights:</strong> Implement threat and survivability stat weight calculations</li>
            <li><strong>Optimization Engine:</strong> Algorithm to generate optimal gear sets for different builds</li>
            <li><strong>Validation:</strong> Compare results against established simulators</li>
        </ol>

        <h3>Key Algorithms Needed</h3>

        <div class="formula">
            <strong>Optimized TPS Calculations:</strong><br>
            • Base DPS = (Weapon Damage + AP/14 × Weapon Speed) ÷ Weapon Speed<br>
            • Effective Hit Rate = 100% - Miss% - Dodge% - Parry%<br>
            • Glancing Penalty = Glancing% × (1 - Glancing Damage Reduction)<br>
            • TPS = (Base DPS × Hit Rate × Glancing Penalty × Crit Multiplier) × Stance Modifier<br><br>
            
            <strong>Survivability Optimization:</strong><br>
            • Effective HP = Health ÷ (1 - Armor Reduction%)<br>
            • Avoidance = Miss% + Dodge% + Parry% + Block%<br>
            • Crush Immunity = Shield Block uptime to push crushing blows off table<br><br>
            
            <strong>Stat Weight Formulas:</strong><br>
            • 1% Hit = ~20-30 DPS (until cap)<br>
            • 1 Weapon Skill = ~5-15 DPS (305-308 range)<br>
            • 14 Attack Power = 1 DPS (linear scaling)
        </div>

        <div class="tip">
            <strong>Next Steps:</strong> Use this research to build a comprehensive gear optimization tool that can analyze all available gear and generate optimal sets for different encounter types and raid roles.
        </div>

        <h3>Advanced Considerations</h3>
        <ul>
            <li><strong>Encounter-Specific Optimization:</strong> Different fights require different stat priorities</li>
            <li><strong>Resistance Gear:</strong> Fire/Nature/Frost resistance for specific encounters</li>
            <li><strong>Phase-Based Gear:</strong> Account for gear availability by content phase</li>
            <li><strong>Consumable Integration:</strong> Factor in buffs, elixirs, and food bonuses</li>
            <li><strong>Team Composition:</strong> Optimize based on raid composition and threat requirements</li>
        </ul>

        <h2>Development Resources</h2>
        
        <h3>Essential Tools for Development</h3>
        <ul>
            <li><strong>WoW API Documentation:</strong> Complete reference for Classic WoW addon development</li>
            <li><strong>Item Database Sources:</strong> Wowhead Classic, AtlasLoot, or community databases</li>
            <li><strong>Combat Mechanics Research:</strong> Fight Club spreadsheet, Marrow's Compendium, magey's research</li>
            <li><strong>Simulation Validation:</strong> WoWSims, Guybrush Simulator for result verification</li>
        </ul>

        <h3>Technical Architecture Recommendations</h3>
        <ul>
            <li><strong>Frontend:</strong> Web-based interface for accessibility and ease of use</li>
            <li><strong>Backend:</strong> Database for item stats, character profiles, and optimization results</li>
            <li><strong>Addon Component:</strong> In-game data collection and synchronization</li>
            <li><strong>API Layer:</strong> RESTful endpoints for data exchange between game and web interface</li>
        </ul>

        <div class="tip">
            <strong>Note:</strong> This development guide is extracted from the main WoW Classic Warrior Tanking Guide to focus specifically on building gear optimization applications. Refer to the main tanking guide for combat mechanics, stat priorities, and strategic guidance.
        </div>
    </div>
</body>
</html>